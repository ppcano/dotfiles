
# Define how Bash prompt looks like:
#
# User @ Host – working dir
#export PS1=”\u@\h\w$ ”
#export PS1=”\u@\h\w: “

# Cli Colors
export CLICOLOR=1
# use yellow for dir’s
export LSCOLORS=dxfxcxdxbxegedabagacad

# history handling
#
# Erase duplicates
export HISTCONTROL=erasedups
# resize history size
export HISTSIZE=10000
# append to bash_history if Terminal.app quits
shopt -s histappend


ORANGE="\033[1;33m"
GREEN="\033[1;32m"
NC='\e[0m'



function parse_git_dirty() {

  local output=`git status 2> /dev/null | tail -n1`

  if [ ! -z "$output" ]; then
    [[ $output != "nothing to commit, working directory clean" ]] && echo "*"
  fi
}

function parse_git_branch() {

  local branch=`git branch --no-color 2> /dev/null | sed -e '/^[^*]/d' -e 's/* \(.*\)/\1/'`

  if [ "$branch" != "master" ]; then
    if [ ! -z "$branch" ]; then
      echo "($branch)"
    fi
  fi

}

#PS1="\W\[$GREEN\]\$(parse_git_branch)\[$ORANGE\]\$(parse_git_dirty)\[$NC: "
PS1="\W\[$ORANGE\]\$(parse_git_dirty)\[$NC: "
